{"version":3,"sources":["../src/test-worker.js"],"names":["importScripts","self","_babelPolyfill","onmessage","e","dbName","data","msg","message","version","db","open","server","then","result","close","postMessage","ports"],"mappings":"cACC,WAEGA,cAAc,iDACdC,KAAKC,gBAAiB,EACtBF,cAAc,mBACdC,KAAKE,UAAY,SAAUC,GACvB,GAAIC,GAASD,EAAEE,KAAKD,OAChBE,EAAMH,EAAEE,KAAKE,QACbC,EAAUL,EAAEE,KAAKG,OACrB,QAAQF,GACR,IAAK,kBACDG,GAAGC,MACCC,OAAQP,EACRI,QAASA,IACVI,KAAK,SAAUD,GACd,GAAIE,GAA2B,mBAAXF,EACpBA,GAAOG,QACPC,YAAYF,IAEhB,MACJ,KAAK,sBACDJ,GAAGC,MACCC,OAAQP,EACRI,QAASA,IACVI,KAAK,SAAUD,GACd,GAAIE,GAA2B,mBAAXF,EACpBA,GAAOG,QACPX,EAAEa,MAAM,GAAGD,YAAYF","file":"test-worker.js","sourcesContent":["/*global importScripts, db */\n(function () {\n    'use strict';\n    importScripts('/node_modules/babel-polyfill/dist/polyfill.js');\n    self._babelPolyfill = false; // Hack for babel polyfill which checks for there being only one instance per this flag\n    importScripts('/dist/db.min.js');\n    self.onmessage = function (e) {\n        var dbName = e.data.dbName;\n        var msg = e.data.message;\n        var version = e.data.version;\n        switch (msg) {\n        case 'web worker open':\n            db.open({\n                server: dbName,\n                version: version\n            }).then(function (server) {\n                let result = typeof server !== 'undefined';\n                server.close(); // Prevent subsequent blocking\n                postMessage(result);\n            });\n            break;\n        case 'service worker open':\n            db.open({\n                server: dbName,\n                version: version\n            }).then(function (server) {\n                let result = typeof server !== 'undefined';\n                server.close(); // Prevent subsequent blocking\n                e.ports[0].postMessage(result);\n            });\n            break;\n        }\n    };\n}());\n"]}