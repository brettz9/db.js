{"version":3,"sources":["../src/test-worker.js"],"names":["importScripts","self","_babelPolyfill","onmessage","e","dbName","data","msg","message","version","db","open","server","then","result","close","postMessage","ports"],"mappings":"cACA,WAEIA,cAAc,iDACdC,KAAKC,gBAAiB,EAHbF,cAIK,mBACdC,KAAKE,UAAY,SAAUC,GACvB,GAAIC,GAASD,EAAEE,KAAKD,OAChBE,EAAMH,EAAEE,KAAKE,QACbC,EAAUL,EAAEE,KAAKG,OACrB,QAAQF,GACR,IAAK,kBACDG,GAAGC,MACCC,OAAQP,EACRI,QAASA,IACVI,KAAK,SAAUD,GACd,GAAIE,GAA2B,mBAAXF,EACpBA,GAAOG,QAFeC,YAGVF,IAEhB,MAVJ,KAWK,sBACDJ,GAAGC,MACCC,OAAQP,EACRI,QAASA,IACVI,KAAK,SAAUD,GACd,GAAIE,GAA2B,mBAAXF,EACpBA,GAAOG,QAFeX,EAGpBa,MAAM,GAAGD,YAAYF","file":"test-worker.js","sourcesContent":["/*global importScripts, db */\r\n(function () {\r\n    'use strict';\r\n    importScripts('/node_modules/babel-polyfill/dist/polyfill.js');\r\n    self._babelPolyfill = false; // Hack for babel polyfill which checks for there being only one instance per this flag\r\n    importScripts('/dist/db.min.js');\r\n    self.onmessage = function (e) {\r\n        var dbName = e.data.dbName;\r\n        var msg = e.data.message;\r\n        var version = e.data.version;\r\n        switch (msg) {\r\n        case 'web worker open':\r\n            db.open({\r\n                server: dbName,\r\n                version: version\r\n            }).then(function (server) {\r\n                let result = typeof server !== 'undefined';\r\n                server.close(); // Prevent subsequent blocking\r\n                postMessage(result);\r\n            });\r\n            break;\r\n        case 'service worker open':\r\n            db.open({\r\n                server: dbName,\r\n                version: version\r\n            }).then(function (server) {\r\n                let result = typeof server !== 'undefined';\r\n                server.close(); // Prevent subsequent blocking\r\n                e.ports[0].postMessage(result);\r\n            });\r\n            break;\r\n        }\r\n    };\r\n}());\r\n"]}